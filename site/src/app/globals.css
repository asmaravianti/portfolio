@import "tailwindcss";

/* Cozy Pixel Design Tokens */
:root {
  /* Base */
  --bg: #fffcfa;            /* Paper */
  --text: #171717;          /* Ink */
  --text-muted: #4b5563;

  /* Palette */
  --wheat: #f5e6c8;
  --cherry: #f6a6a1;
  --sky: #cbe8ff;
  --leaf: #9ec8a1;
  --cocoa: #5b4636;
  --white: #ffffff;
  --border: #edebf2;

  /* Surfaces */
  --card: var(--white);

  /* Radii */
  --radius-card: 20px;
  --radius-pill: 999px;

  /* Shadows */
  --shadow-soft: 0 6px 16px rgba(0,0,0,0.06);
  --shadow-lift: 0 10px 24px rgba(0,0,0,0.10);
}

@theme inline {
  /* Colors */
  --color-background: var(--bg);
  --color-foreground: var(--text);
  --color-muted: var(--text-muted);
  --color-primary: var(--cherry);
  --color-accent: var(--leaf);
  --color-info: var(--sky);
  --color-card: var(--card);
  --color-border: var(--border);

  /* Fonts (from next/font variables set in layout) */
  --font-sans: var(--font-body);
  --font-display: var(--font-display);
  --font-pixel: var(--font-pixel);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b0f13;          /* Deep night */
    --text: #ededed;
    --text-muted: #c7c7c7;
    --card: #0f141a;
    --border: #1f2937;
  }
}

/* Base styles */
html, body {
  height: 100%;
}

body {
  background: radial-gradient(1200px 800px at 20% -10%, var(--wheat) 0%, transparent 60%),
              radial-gradient(1000px 700px at 110% 0%, var(--sky) 0%, transparent 55%),
              radial-gradient(900px 600px at 40% 110%, color-mix(in oklab, var(--leaf) 25%, transparent) 0%, transparent 60%),
              var(--bg);
  color: var(--text);
  font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  text-rendering: optimizeLegibility;
}

/* Card and pill helpers */
.card {
  border-radius: var(--radius-card);
  background: var(--card);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-soft);
}

.pill {
  border-radius: var(--radius-pill);
  border: 1px solid var(--border);
  background: var(--white);
}

/* Pixel border effect */
.pixel-border {
  position: relative;
}
.pixel-border:after {
  content: "";
  position: absolute;
  inset: -2px;
  border: 2px solid #00000014;
  border-radius: calc(var(--radius-card) + 4px);
  pointer-events: none;
  image-rendering: pixelated;
}

/* Subtle paper texture using dot pattern */
.bg-cozy {
  background-image:
    radial-gradient(rgba(0,0,0,0.04) 1px, transparent 1px);
  background-size: 12px 12px;
  background-position: 0 0;
}

/* Scalloped divider utility */
.scallop {
  position: relative;
}
.scallop:before {
  content: "";
  position: absolute;
  inset: auto 0 -20px 0;
  height: 20px;
  background: radial-gradient(20px 20px at 10px -10px, var(--bg) 98%, transparent 100%) repeat-x;
  background-size: 20px 20px;
}

/* Sticker wiggle */
@keyframes wiggle {
  0%, 100% { transform: rotate(0deg) translateZ(0); }
  25% { transform: rotate(-3deg) translateY(-1px); }
  75% { transform: rotate(3deg) translateY(1px); }
}
.sticker:hover { animation: wiggle 300ms ease-in-out; }

/* Sparkle button */
.sparkle-btn {
  position: relative;
  overflow: hidden;
}
.sparkle-btn:after {
  content: "";
  position: absolute;
  top: -40%;
  left: -20%;
  width: 140%;
  height: 180%;
  background: conic-gradient(from 180deg, transparent 0 75%, rgba(255,255,255,0.6) 80%, transparent 85%);
  transform: translateX(-120%) rotate(10deg);
  transition: transform 400ms ease;
}
.sparkle-btn:hover:after { transform: translateX(0) rotate(10deg); }

/* Focus ring */
:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--color-primary) 60%, white);
  outline-offset: 2px;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
